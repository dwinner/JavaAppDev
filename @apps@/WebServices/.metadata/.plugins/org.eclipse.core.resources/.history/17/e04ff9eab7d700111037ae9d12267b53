package ru.aztpa.a.oaa.mfg.wiptransfers.v01;

import java.util.ArrayList;
import java.util.Date;
import java.util.GregorianCalendar;

import javax.jws.WebService;
import javax.xml.datatype.DatatypeConfigurationException;
import javax.xml.datatype.DatatypeFactory;
import javax.xml.ws.BindingType;
import javax.xml.ws.Holder;

/**
 * This class was generated by the JAX-WS RI. Oracle JAX-WS 2.1.5 Generated
 * source version: 2.1
 * 
 */
@WebService(portName = "WipTransfersPortSOAP",
		serviceName = "WipTransfers",
		targetNamespace = "http://www.aztpa.ru/a/oaa/mfg/wiptransfers/v01/",
		// wsdlLocation = "/wsdls/A_OAA_MFG_WipTransfers_v01.wsdl",
		endpointInterface = "ru.aztpa.a.oaa.mfg.wiptransfers.v01.WipTransfersPortType")
@BindingType("http://schemas.xmlsoap.org/wsdl/soap/http")
public class WipTransfers_WipTransfersPortSOAPImpl implements
		WipTransfersPortType {

	public WipTransfers_WipTransfersPortSOAPImpl() {
	}

	/**
	 * 
	 * @param message
	 * @param returnCode
	 * @param status
	 * @param transferDocs
	 * @param profile
	 */
	public void findTransferListByProfile(TransferProfile profile,
			Holder<String> status, Holder<String> returnCode,
			Holder<String> message, Holder<TransferDocs> transferDocs) {
		GregorianCalendar gCalendar = new GregorianCalendar();
	    DatatypeFactory datatypeFactory = null;
	    
	    try
	    {
	       datatypeFactory = DatatypeFactory.newInstance();
	    }
	    catch (DatatypeConfigurationException ex)
	    {
	       throw new RuntimeException(ex);
	    }
	    
	    gCalendar.set(2012, 4, 1, 0, 0, 0);
		profile.setLastUpdatedAfter(datatypeFactory.newXMLGregorianCalendar(gCalendar));
		gCalendar.set(2012, 4, 1, 23, 59, 59);
		profile.setLastUpdatedBefore(datatypeFactory.newXMLGregorianCalendar(gCalendar));
		profile.setDocNum("84");
		profile.setSourceDepartment("0800");
		profile.setDestinationDepartment("1400");
		gCalendar.set(2012, 4, 1, 0, 0, 0);
		profile.setDocDateAfter(datatypeFactory.newXMLGregorianCalendar(gCalendar));
		gCalendar.set(2012, 4, 1, 23, 59, 59);
		profile.setDocDateBefore(datatypeFactory.newXMLGregorianCalendar(gCalendar));
		
		status.value = "SUCCESS";	// "ERROR"
		returnCode.value = "UNKNOWN_DEPARTMENT";
		message.value = "Transferred department is not exists";
		
		transferDocs.value = new TransferDocs();
		transferDocs.value.transferDoc = new ArrayList<TransferDoc>();
		TransferDoc transferDoc = new TransferDoc();
		transferDoc.setDocNum("84");
		gCalendar.set(2012, 4, 1, 0, 0, 0);
		transferDoc.setDocDate(datatypeFactory.newXMLGregorianCalendar(gCalendar));
		
		Department sourceDepartment = new Department();
		sourceDepartment.setDepCode("0800");
		sourceDepartment.setDepName("8-st department");
		transferDoc.setSource(sourceDepartment);
		
		Department destinationDepartment = new Department();
		destinationDepartment.setDepCode("1400");
		destinationDepartment.setDepName("14-st department");
		transferDoc.setDestination(destinationDepartment);
		
		gCalendar.setTime(new Date());
		transferDoc.setLastUpdateDate(datatypeFactory.newXMLGregorianCalendar(gCalendar));
		
		
	}

}
